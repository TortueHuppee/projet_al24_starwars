<ui:composition template="/layouts/master_layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

	<ui:define name="title">
	Star Wars E-Shop - Inscription
	</ui:define>

	<ui:define name="stylesheets">
		<h:outputStylesheet name="signInCss.css" library="css" />
	</ui:define>

	<ui:define name="main-body">
		<h:form id="signinForm">
			<div class="center-body">

				<p:panel header="Création de compte">
					<p:panelGrid>
						<p:row>
							<p:column>
								<h:outputLabel value="Nom utilisateur : " />
								<h:inputText value="#{signUpBean.login}" id="signup_login" />
								<h:outputLabel class="messageErreur"
									value="#{signUpBean.messageErreurLogin}" />
							</p:column>
						</p:row>

						<p:row>
							<p:column>
								<h:outputLabel for="signup_password" value="Mot de passe : " />
								<h:inputSecret value="#{signUpBean.motDePasse}"
									id="signup_password" />
								<h:outputLabel class="messageErreur"
									value="#{signUpBean.messageErreurMotDePasse}" />
							</p:column>
						</p:row>

						<p:row>
							<p:column>
								<h:outputLabel for="signup_lastName" value="Nom de famille : " />
								<h:inputText value="#{signUpBean.nomFamille}"
									id="signup_lastName" />
								<h:outputLabel class="messageErreur"
									value="#{signUpBean.messageErreurNomFamille}" />
							</p:column>
						</p:row>

						<p:row>
							<p:column>
								<h:outputLabel for="signup_firstName" value="Prénom : " />
								<h:inputText value="#{signUpBean.prenom}" id="signup_firstName" />
								<h:outputLabel class="messageErreur"
									value="#{signUpBean.messageErreurPrenom}" />
							</p:column>
						</p:row>

						<p:row>
							<p:column>
								<h:outputLabel for="signup_civility" value="Civilité : " />
								<p:selectOneRadio id="signup_civility"
									value="#{signUpBean.civilite.idCivility}">
									<f:selectItem itemLabel="Mr" itemValue="1" />
									<f:selectItem itemLabel="Mme" itemValue="2" />
									<f:selectItem itemLabel="Mlle" itemValue="3" />
								</p:selectOneRadio>
							</p:column>
						</p:row>

						<p:row>
							<p:column>
								<h:outputLabel for="signup_email" value="Email : " />
								<h:inputText value="#{signUpBean.email}" id="signup_email" />
								<h:outputLabel class="messageErreur"
									value="#{signUpBean.messageErreurEmail}" />
							</p:column>
						</p:row>

						<p:row>
							<p:column>
								<h:outputLabel for="signup_companyType" value="Vous êtes un : " />
								<p:selectOneRadio id="signup_companyType"
									value="#{signUpBean.userType}">
									<f:ajax event="change" render="companyName activityDomain"
										execute="signup_companyType" />
									<f:selectItem itemLabel="particulier" itemValue="particulier" />
									<f:selectItem itemLabel="artisan" itemValue="artisan" />
									<f:selectItem itemLabel="professionnel"
										itemValue="professionnel" />
								</p:selectOneRadio>
							</p:column>
						</p:row>

						<p:row>
							<p:column>
								<p:outputPanel id="companyName">
									<h:outputLabel for="signup_companyName"
										value="Nom de la compagnie : "
										rendered="#{not(signUpBean.userType eq 'particulier')}" />
									<h:inputText value="#{signUpBean.companyName}"
										id="signup_companyName"
										rendered="#{not(signUpBean.userType eq 'particulier')}" />
									<h:outputLabel class="messageErreur"
										value="#{signUpBean.messageErreurCompanyName}"
										rendered="#{not(signUpBean.userType eq 'particulier')}" />
								</p:outputPanel>
							</p:column>
						</p:row>

						<p:row>
							<p:column colspan="2">
								<p:outputPanel id="activityDomain">
									<h:outputLabel for="signup_activityDomain"
										value="Domaine d'activité : "
										rendered="#{not(signUpBean.userType eq 'particulier')}" />
									<h:inputText value="#{signUpBean.domaineActivite}"
										id="signup_activityDomain"
										rendered="#{not(signUpBean.userType eq 'particulier')}" />
									<h:outputLabel class="messageErreur"
										value="#{signUpBean.messageErreurDomaineActivite}"
										rendered="#{not(signUpBean.userType eq 'particulier')}" />
								</p:outputPanel>
							</p:column>
						</p:row>

						<p:row>
							<p:column>
								<p:commandButton actionListener="#{signUpBean.validationFormulaire()}"
									value="S'inscrire" update="signinForm" />
							</p:column>
						</p:row>

					</p:panelGrid>
				</p:panel>
			</div>
		</h:form>
	</ui:define>
</ui:composition>
