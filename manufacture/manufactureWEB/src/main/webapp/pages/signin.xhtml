<ui:composition template="/layouts/master_layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

	<ui:define name="title">
	Star Wars E-Shop - Inscription
	</ui:define>

	<ui:define name="stylesheets">
		<h:outputStylesheet name="panierCss.css" library="css" />
	</ui:define>

	<ui:define name="main-body">
		<h:form id="signinForm">
			<div class="center-body">
				<h1>Création de compte</h1>
				
				<div class="sign-company">
					<fieldset>
						<legend>Type de compte</legend>

						<h:outputLabel for="signup_companyType" value="Type de compte : "/>
							<p:selectOneRadio id="signup_companyType"
								value="#{signUpBean.userType}">
								<f:ajax event="change" render="companyName"
									execute="signup_companyType" />
								<f:selectItem itemLabel="particulier" itemValue="particulier" />
								<f:selectItem itemLabel="artisan" itemValue="artisan" />
								<f:selectItem itemLabel="professionnel" itemValue="professionnel" />
							</p:selectOneRadio>

						<p:outputPanel id="companyName">
							<h:outputLabel for="signup_companyName"	value="Nom de la compagnie : " rendered="#{not(signUpBean.userType eq 'particulier')}"/>
							<h:inputText value="#{signUpBean.companyName}" id="signup_companyName" rendered="#{not(signUpBean.userType eq 'particulier')}"/>
							<h:outputLabel class="messageErreur" value="#{signUpBean.messageErreurCompanyName}" rendered="#{not(signUpBean.userType eq 'particulier')}"/>
							
							<h:outputLabel for="signup_activityDomain"	value="Domaine d'activité : " rendered="#{not(signUpBean.userType eq 'particulier')}"/>
							<h:inputText value="#{signUpBean.domaineActivite}" id="signup_activityDomain" rendered="#{not(signUpBean.userType eq 'particulier')}"/>
							<h:outputLabel class="messageErreur" value="#{signUpBean.messageErreurDomaineActivite}" rendered="#{not(signUpBean.userType eq 'particulier')}"/>
						</p:outputPanel>
					</fieldset>
				</div>
				
				<div class="sign-identity">
				
<!-- 				<p:panel header="Validate"> -->
<!--         <h:panelGrid id="grid" columns="4" cellpadding="5"> -->
<!--         </h:panelGrid> -->
 
<!--     </p:panel> -->
					<fieldset>
						<legend>Identité</legend>

						<h:outputLabel value="Nom utilisateur : "/>
						<h:inputText value="#{signUpBean.login}" id="signup_login"/>
						<h:outputLabel class="messageErreur" value="#{signUpBean.messageErreurLogin}" />
						
						<h:outputLabel for="signup_password" value="Mot de passe : "/>
						<h:inputSecret value="#{signUpBean.motDePasse}" id="signup_password" />
						<h:outputLabel class="messageErreur" value="#{signUpBean.messageErreurMotDePasse}" />

						<h:outputLabel for="signup_firstName" value="Prénom : "/>
						<h:inputText value="#{signUpBean.prenom}" id="signup_firstName" />
						<h:outputLabel class="messageErreur" value="#{signUpBean.messageErreurPrenom}" />

						<h:outputLabel for="signup_lastName" value="Nom de famille : "/>
						<h:inputText value="#{signUpBean.nomFamille}" id="signup_lastName" />
						<h:outputLabel class="messageErreur" value="#{signUpBean.messageErreurNomFamille}" />
						
						<h:outputLabel for="signup_email" value="Email : "/>
						<h:inputText value="#{signUpBean.email}" id="signup_email" />
						<h:outputLabel class="messageErreur" value="#{signUpBean.messageErreurEmail}" />

					</fieldset>
				</div>
			
				<div style="margin-left: 40%">
					<p:commandButton action="#{signUpBean.validationFormulaire()}" value="S'inscrire" update="signinForm"/>
				</div>
			</div>
		</h:form>
	</ui:define>
</ui:composition>
