<ui:composition template="/layouts/master_layout.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:composite="http://java.sun.com/jsf/composite"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="main-body">

		<h:form id="myForm">

			<h:panelGroup id="panier">
				<CENTER>
					<TABLE>
						<ui:repeat var="produit" value="#{mbCart.panier}">

							<TR>
								<TD>"#{produit.product.productRef.productName}"</TD>
								<TD><h:commandButton value="-"
										action="#{mbCart.decrementProductQuantity(produit.product.idProduct)}"/></TD>
								<TD>#{produit.quantity}</TD>
								<TD><h:commandButton value="+"
										action="#{mbCart.incrementProductQuantity(produit.product.idProduct)}"/></TD>
								<TD><h:commandButton value="Supprimer produit"
										action="#{mbCart.deleteProductFromCart(produit.product.idProduct)}"/></TD>
							</TR>


						</ui:repeat>
						
						<TR>
								<TD><h:commandButton value="Vider le panier"
										action="#{mbCart.cleanCart()}"/>
								</TD>
								<TD><h:commandButton value="Valider le panier"
										action="#{mbCart.storeCart()}"/>
								</TD>
							</TR>
					</TABLE>
				</CENTER>
			</h:panelGroup>

		</h:form>

	</ui:define>

</ui:composition>